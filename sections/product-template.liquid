{{ 'option_selection.js' | shopify_asset_url | script_tag }}
<section class="product">
  <div class="product__slider">
    <div class="product__slider-main">
      {% for image in product.images %}
        <div class="product__slide-main">
          <img src="{{ image.src | product_img_url: 'master' }}">
        </div>
      {% endfor %}
    </div>
    <div class="product__slider-sub">
      {% for image in product.images %}
        <div class="product__slide-sub">
          <img src="{{ image.src | product_img_url: 'medium' }}">
        </div>
      {% endfor %}
    </div>

  </div>

  <div class="product__info">
    <h1 class="product__title">
      {{product.title}}
    </h1>

    {% form 'product', product, class: "product__form" %}
      <div class="product__option">
        <div class="product__option-title">Choose your length</div>
        <select id='product-select' name="id" class="product__option-select">
          {% for variant in product.variants %}
            <option value="{{ variant.id }}"
              {% if variant == product.selected_or_first_available_variant %}selected="selected"{% endif %}
            >
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="product__summary">
        <div class="product__summary-price">{{product.selected_or_first_available_variant.price | money}}</div>
        <div class="product__summary-caption">Tax included</div>
      </div>

      <div class="product__control">
        <div class="product__quantity product__control-quantity">
          <button class="product__quantity-btn product__quantity-minus">-</button>
          <input class="product__quantity-input" type="text" name="quantity" min="1" value="1">
          <button class="product__quantity-btn product__quantity-plus">+</button>
        </div>
        <button class="btn btn_red product__control-add">Add To Cart</button>
      </div>
      {% comment %} {{ form | payment_button }} {% endcomment %}
    {% endform %}

   

    <div class="product__description">
      {{ product.description }}
    </div>

  </div>
</section>


<script>
var selectCallback = function(variant, selector) {
  console.log(variant);
  document.querySelector('.product__summary-price').innerText = Shopify.formatMoney(variant.price);
}

new Shopify.OptionSelectors('product-select', {
  product: {{ product | json }},
  onVariantSelected: selectCallback,
  enableHistoryState: true
});

</script>